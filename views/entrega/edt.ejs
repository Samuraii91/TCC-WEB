<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>Editar Entrega</title>
  <link rel="stylesheet" href="/css/style.css" />
</head>
<body>
  <%- include('../cabecalho.ejs') %>

  <div class="container">
    <h2>Editar Entrega</h2>

    <form action="/entrega/edt/<%= entrega._id %>" method="POST" class="form-padrao">
      <div class="form-group">
        <label for="produto">Produto:</label>
        <select id="produto" name="produto" required>
          <% produtos.forEach(produto => { %>
            <option value="<%= produto._id %>" <%= entrega.produto.equals(produto._id) ? "selected" : "" %>>
              <%= produto.nome %>
            </option>
          <% }) %>
        </select>
      </div>

      <div class="form-group">
        <label for="cliente">Cliente:</label>
        <input type="text" id="cliente" name="cliente" value="<%= entrega.cliente %>" required />
      </div>

      <div class="form-group">
        <label for="endereco">EndereÃ§o:</label>
        <input type="text" id="endereco" name="endereco" value="<%= entrega.endereco %>" required />
      </div>

      <div class="form-group">
        <label for="status">Status:</label>
        <select id="status" name="status" required>
          <option value="Pendente" <%= entrega.status === "Pendente" ? "selected" : "" %>>Pendente</option>
          <option value="Em rota" <%= entrega.status === "Em rota" ? "selected" : "" %>>Em rota</option>
          <option value="Entregue" <%= entrega.status === "Entregue" ? "selected" : "" %>>Entregue</option>
        </select>
      </div>

      <div class="form-group">
        <label for="data">Data de Entrega:</label>
        <input type="date" id="data" name="data" value="<%= entrega.data ? new Date(entrega.data).toISOString().split('T')[0] : '' %>" required />
      </div>

      <div class="botoes-centro">
        <button type="submit" class="btn-salvar">ğŸ’¾ Salvar</button>
      </div>
    </form>

    <div class="voltar-centro">
      <a href="/entrega/lst" class="btn-voltar">â†© Voltar</a>
    </div>
  </div>

  <%- include('../rodape.ejs') %>
</body>
</html>
